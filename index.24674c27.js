!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},l=t.parcelRequired7c6;null==l&&((l=function(e){if(e in r)return r[e].exports;if(e in i){var t=i[e];delete i[e];var l={id:e,exports:{}};return r[e]=l,t.call(l.exports,l,l.exports),l.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},t.parcelRequired7c6=l),l.register("8slrw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return e}})),l.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),l.register("ifqQW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),l.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return i.default(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i.default(e,t)};var r,i=(r=l("8NIkP"))&&r.__esModule?r:{default:r}})),l.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}})),l.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return i.default(e)};var r,i=(r=l("8NIkP"))&&r.__esModule?r:{default:r}})),l.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),function(){var e=document.querySelector("[data-menu-open]"),t=document.querySelector("[data-menu-close]"),r=document.querySelector("[data-nav-mobile]");function i(){r.classList.toggle("is-open")}e.addEventListener("click",i),t.addEventListener("click",i)}(),function(){var e={openModalBtns:document.querySelectorAll("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]"),backdrop:document.querySelector("[data-backdrop]"),body:document.querySelector("body")};function t(){e.modal.classList.toggle("modal--is-hidden"),e.backdrop.classList.toggle("backdrop--is-hidden"),e.body.classList.toggle("no-scroll")}e.openModalBtns.forEach((function(e){e.addEventListener("click",t)})),e.closeModalBtn.addEventListener("click",t),document.addEventListener("keydown",(function(t){"Escape"===t.key&&(e.modal.classList.add("modal--is-hidden"),e.backdrop.classList.add("backdrop--is-hidden"),e.body.classList.remove("no-scroll"))})),e.backdrop.addEventListener("click",t)}();var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e,t){return o.default(e)||a.default(e,t)||u.default(e,t)||n.default()};var o=d(l("8slrw")),a=d(l("7AJDX")),n=d(l("ifqQW")),u=d(l("auk6i"));function d(e){return e&&e.__esModule?e:{default:e}}var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))};var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default=function(e){return h.default(e)||v.default(e)||p.default(e)||b.default()};var h=g(l("kMC0W")),v=g(l("7AJDX")),b=g(l("8CtQK")),p=g(l("auk6i"));function g(e){return e&&e.__esModule?e:{default:e}}function m(){var t=e(c)([""]);return m=function(){return t},t}document.addEventListener("DOMContentLoaded",(function(){var t=!0,r=!1,i=void 0;try{for(var l,o=function(t,r){var i,l=r.value,o=l.getAttribute("placeholder"),a=new Set(l.dataset.slots||"_"),n=(i=0,Array.from(o,(function(e,t){return a.has(e)?i=t+1:i}))),u=e(f)(o).findIndex((function(e){return a.has(e)})),d=new RegExp(l.dataset.accept||"\\d","g"),c=function(e){return e=e.match(d)||[],Array.from(o,(function(t){return(e[0]===t||a.has(t))&&e.shift()||t}))},h=function(){var t=e(s)([l.selectionStart,l.selectionEnd].map((function(e){return(e=c(l.value.slice(0,e)).findIndex((function(e){return a.has(e)})))<0?n[n.length-1]:v?n[e-1]||u:e})),2),r=t[0],i=t[1];l.value=c(l.value).join(m()),l.setSelectionRange(r,i),v=!1},v=!1;l.addEventListener("keydown",(function(e){return v="Backspace"===e.key})),l.addEventListener("input",h),l.addEventListener("focus",h),l.addEventListener("blur",(function(){return l.value===o&&(l.value="")}))},a=document.querySelectorAll("[placeholder][data-slots]")[Symbol.iterator]();!(t=(l=a.next()).done);t=!0)o(0,l)}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}}));new Swiper(".mySwiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var F={};function k(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(F,"__esModule",{value:!0}),F.default=function(e,t,r){t&&k(e.prototype,t);r&&k(e,r);return e};var C={};Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e};var w=Object.defineProperty,L=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,x=function(e,t,r){return t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},M=function(e,t){for(var r in t||(t={}))S.call(t,r)&&x(e,r,t[r]);var i=!0,l=!1,s=void 0;if(L)try{for(var o,a=L(t)[Symbol.iterator]();!(i=(o=a.next()).done);i=!0){r=o.value;E.call(t,r)&&x(e,r,t[r])}}catch(e){l=!0,s=e}finally{try{i||null==a.return||a.return()}finally{if(l)throw s}}return e},I=function(t,r,i){return x(t,"symbol"!==(void 0===r?"undefined":e(C)(r))?r+"":r,i),i},j=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,T=/^[0-9]+$/,q=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,P=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,V=function(e){var t=e;return"string"==typeof e&&(t=e.trim()),!t},A=function(e){return j.test(e)},O=function(e,t){return e.length>t},_=function(e,t){return e.length<t},N=function(e){return T.test(e)},R=function(e){return q.test(e)},G=function(e){return P.test(e)},z=function(e,t){return e>t},X=function(e,t){return e<t},D=function(e){return e.Required="required",e.Email="email",e.MinLength="minLength",e.MaxLength="maxLength",e.Password="password",e.Number="number",e.MaxNumber="maxNumber",e.MinNumber="minNumber",e.StrongPassword="strongPassword",e.CustomRegexp="customRegexp",e.MinFilesCount="minFilesCount",e.MaxFilesCount="maxFilesCount",e.Files="files",e}(D||{}),B=function(e){return e.Required="required",e}(B||{}),H=function(e){return e.Label="label",e.LabelArrow="labelArrow",e}(H||{}),$=function(e){return!!e&&"function"==typeof e.then},Z=function(t){return Array.isArray(t)?t.filter((function(e){return e.length>0})):"string"==typeof t&&t.trim()?e(f)(t.split(" ").filter((function(e){return e.length>0}))):[]},Q={errorFieldStyle:{color:"#b81111",border:"1px solid #B81111"},errorFieldCssClass:"just-validate-error-field",successFieldCssClass:"just-validate-success-field",errorLabelStyle:{color:"#b81111"},errorLabelCssClass:"just-validate-error-label",successLabelCssClass:"just-validate-success-label",focusInvalidField:!0,lockForm:!0,testingMode:!1},U=function(){"use strict";function t(r,i,l){var s=this;e(y)(this,t),I(this,"form",null),I(this,"fields",{}),I(this,"groupFields",{}),I(this,"errors",{}),I(this,"isValid",!1),I(this,"isSubmitted",!1),I(this,"globalConfig",Q),I(this,"errorLabels",{}),I(this,"successLabels",{}),I(this,"eventListeners",[]),I(this,"dictLocale",[]),I(this,"currentLocale"),I(this,"customStyleTags",{}),I(this,"onSuccessCallback"),I(this,"onFailCallback"),I(this,"tooltips",[]),I(this,"lastScrollPosition"),I(this,"isScrollTick"),I(this,"refreshAllTooltips",(function(){s.tooltips.forEach((function(e){e.refresh()}))})),I(this,"handleDocumentScroll",(function(){if(s.lastScrollPosition=window.scrollY,!s.isScrollTick){var e=s;window.requestAnimationFrame((function(){e.refreshAllTooltips(),e.isScrollTick=!1})),s.isScrollTick=!0}})),I(this,"formSubmitHandler",(function(e){e.preventDefault(),s.isSubmitted=!0,s.validateHandler(e)})),I(this,"handleFieldChange",(function(e){var t;for(var r in s.fields){if(s.fields[r].elem===e){t=r;break}}t&&s.validateField(t,!0)})),I(this,"handleGroupChange",(function(e){var t,r;for(var i in s.groupFields){var l=s.groupFields[i];if(l.elems.find((function(t){return t===e}))){t=l,r=i;break}}t&&r&&s.validateGroup(r,t)})),I(this,"handlerChange",(function(e){e.target&&(s.handleFieldChange(e.target),s.handleGroupChange(e.target),s.renderErrors())})),this.initialize(r,i,l)}return e(F)(t,[{key:"initialize",value:function(e,t,r){if(this.form=null,this.errors={},this.isValid=!1,this.isSubmitted=!1,this.globalConfig=Q,this.errorLabels={},this.successLabels={},this.eventListeners=[],this.customStyleTags={},this.tooltips=[],"string"==typeof e){var i=document.querySelector(e);if(!i)throw Error("Form with ".concat(e," selector not found! Please check the form selector"));this.setForm(i)}else{if(!(e instanceof HTMLFormElement))throw Error("Form selector is not valid. Please specify a string selector or a DOM element.");this.setForm(e)}if(this.globalConfig=M(M({},Q),t),r&&(this.dictLocale=r),this.isTooltip()){var l=document.createElement("style");l.textContent=".just-validate-error-label[data-tooltip=true]{position:fixed;padding:4px 8px;background:#423f3f;color:#fff;white-space:nowrap;z-index:10;border-radius:4px;transform:translateY(-5px)}.just-validate-error-label[data-tooltip=true]:before{content:'';width:0;height:0;border-left:solid 5px transparent;border-right:solid 5px transparent;border-bottom:solid 5px #423f3f;position:absolute;z-index:3;display:block;bottom:-5px;transform:rotate(180deg);left:calc(50% - 5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]{transform:translateX(-5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]:before{right:-7px;bottom:auto;left:auto;top:calc(50% - 2px);transform:rotate(90deg)}.just-validate-error-label[data-tooltip=true][data-direction=right]{transform:translateX(5px)}.just-validate-error-label[data-tooltip=true][data-direction=right]:before{right:auto;bottom:auto;left:-7px;top:calc(50% - 2px);transform:rotate(-90deg)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]{transform:translateY(5px)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]:before{right:auto;bottom:auto;left:calc(50% - 5px);top:-5px;transform:rotate(0)}",this.customStyleTags[H.Label]=document.head.appendChild(l),this.addListener("scroll",document,this.handleDocumentScroll)}}},{key:"getLocalisedString",value:function(e){var t;return this.currentLocale&&this.dictLocale.length&&(null==(t=this.dictLocale.find((function(t){return t.key===e})))?void 0:t.dict[this.currentLocale])||e}},{key:"getFieldErrorMessage",value:function(e,t){var r="function"==typeof e.errorMessage?e.errorMessage(this.getElemValue(t),this.fields):e.errorMessage;return this.getLocalisedString(r)||function(e,t){switch(e){case D.Required:return"The field is required";case D.Email:return"Email has invalid format";case D.MaxLength:return"The field must contain a maximum of :value characters".replace(":value",String(t));case D.MinLength:return"The field must contain a minimum of :value characters".replace(":value",String(t));case D.Password:return"Password must contain minimum eight characters, at least one letter and one number";case D.Number:return"Value should be a number";case D.StrongPassword:return"Password should contain minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character";case D.MaxNumber:return"Number should be less or equal than :value".replace(":value",String(t));case D.MinNumber:return"Number should be more or equal than :value".replace(":value",String(t));case D.MinFilesCount:return"Files count should be more or equal than :value".replace(":value",String(t));case D.MaxFilesCount:return"Files count should be less or equal than :value".replace(":value",String(t));case D.Files:return"Uploaded files have one or several invalid properties (extension/size/type etc)";default:return"Value is incorrect"}}(e.rule,e.value)}},{key:"getFieldSuccessMessage",value:function(e,t){var r="function"==typeof e?e(this.getElemValue(t),this.fields):e;return this.getLocalisedString(r)}},{key:"getGroupErrorMessage",value:function(e){return this.getLocalisedString(e.errorMessage)||(e.rule===B.Required?"The field is required":"Group is incorrect")}},{key:"getGroupSuccessMessage",value:function(e){return this.getLocalisedString(e.successMessage)}},{key:"setFieldInvalid",value:function(e,t){this.fields[e].isValid=!1,this.fields[e].errorMessage=this.getFieldErrorMessage(t,this.fields[e].elem)}},{key:"setFieldValid",value:function(e,t){this.fields[e].isValid=!0,void 0!==t&&(this.fields[e].successMessage=this.getFieldSuccessMessage(t,this.fields[e].elem))}},{key:"setGroupInvalid",value:function(e,t){this.groupFields[e].isValid=!1,this.groupFields[e].errorMessage=this.getGroupErrorMessage(t)}},{key:"setGroupValid",value:function(e,t){this.groupFields[e].isValid=!0,this.groupFields[e].successMessage=this.getGroupSuccessMessage(t)}},{key:"getElemValue",value:function(e){switch(e.type){case"checkbox":return e.checked;case"file":return e.files;default:return e.value}}},{key:"validateGroupRule",value:function(e,t,r){if(r.rule===B.Required)t.every((function(e){return!e.checked}))?this.setGroupInvalid(e,r):this.setGroupValid(e,r)}},{key:"validateFieldRule",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=r.value,s=this.getElemValue(t);if(r.plugin){var o=r.plugin(s,this.fields);o||this.setFieldInvalid(e,r)}else switch(r.rule){case D.Required:V(s)&&this.setFieldInvalid(e,r);break;case D.Email:if("string"!=typeof s){this.setFieldInvalid(e,r);break}A(s)||this.setFieldInvalid(e,r);break;case D.MaxLength:if(void 0===l){console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field is not defined. The field will be always invalid.")),this.setFieldInvalid(e,r);break}if("number"!=typeof l){console.error("Value for ".concat(r.rule," rule for [").concat(e,"] should be a number. The field will be always invalid.")),this.setFieldInvalid(e,r);break}if("string"!=typeof s){this.setFieldInvalid(e,r);break}if(""===s)break;O(s,l)&&this.setFieldInvalid(e,r);break;case D.MinLength:if(void 0===l){console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field is not defined. The field will be always invalid.")),this.setFieldInvalid(e,r);break}if("number"!=typeof l){console.error("Value for ".concat(r.rule," rule for [").concat(e,"] should be a number. The field will be always invalid.")),this.setFieldInvalid(e,r);break}if("string"!=typeof s){this.setFieldInvalid(e,r);break}if(""===s)break;_(s,l)&&this.setFieldInvalid(e,r);break;case D.Password:if("string"!=typeof s){this.setFieldInvalid(e,r);break}if(""===s)break;R(s)||this.setFieldInvalid(e,r);break;case D.StrongPassword:if("string"!=typeof s){this.setFieldInvalid(e,r);break}if(""===s)break;G(s)||this.setFieldInvalid(e,r);break;case D.Number:if("string"!=typeof s){this.setFieldInvalid(e,r);break}if(""===s)break;N(s)||this.setFieldInvalid(e,r);break;case D.MaxNumber:if(void 0===l){console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field is not defined. The field will be always invalid.")),this.setFieldInvalid(e,r);break}if("number"!=typeof l){console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field should be a number. The field will be always invalid.")),this.setFieldInvalid(e,r);break}if("string"!=typeof s){this.setFieldInvalid(e,r);break}if(""===s)break;var a=+s;(Number.isNaN(a)||z(a,l))&&this.setFieldInvalid(e,r);break;case D.MinNumber:if(void 0===l){console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field is not defined. The field will be always invalid.")),this.setFieldInvalid(e,r);break}if("number"!=typeof l){console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field should be a number. The field will be always invalid.")),this.setFieldInvalid(e,r);break}if("string"!=typeof s){this.setFieldInvalid(e,r);break}if(""===s)break;var n=+s;(Number.isNaN(n)||X(n,l))&&this.setFieldInvalid(e,r);break;case D.CustomRegexp:if(void 0===l)return console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field is not defined. This field will be always invalid.")),void this.setFieldInvalid(e,r);var u;try{u=new RegExp(l)}catch(t){console.error("Value for ".concat(r.rule," rule for [").concat(e,"] should be a valid regexp. This field will be always invalid.")),this.setFieldInvalid(e,r);break}var d=String(s);""===d||u.test(d)||this.setFieldInvalid(e,r);break;case D.MinFilesCount:if(void 0===l){console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field is not defined. This field will be always invalid.")),this.setFieldInvalid(e,r);break}if("number"!=typeof l){console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field should be a number. The field will be always invalid.")),this.setFieldInvalid(e,r);break}if(Number.isFinite(null==s?void 0:s.length)&&s.length<l){this.setFieldInvalid(e,r);break}break;case D.MaxFilesCount:if(void 0===l){console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field is not defined. This field will be always invalid.")),this.setFieldInvalid(e,r);break}if("number"!=typeof l){console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field should be a number. The field will be always invalid.")),this.setFieldInvalid(e,r);break}if(Number.isFinite(null==s?void 0:s.length)&&s.length>l){this.setFieldInvalid(e,r);break}break;case D.Files:if(void 0===l)return console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field is not defined. This field will be always invalid.")),void this.setFieldInvalid(e,r);if("object"!=typeof l)return console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field should be an object. This field will be always invalid.")),void this.setFieldInvalid(e,r);var c=l.files;if("object"!=typeof c)return console.error("Value for ".concat(r.rule," rule for [").concat(e,"] field should be an object with files array. This field will be always invalid.")),void this.setFieldInvalid(e,r);var f=function(e,t){var r=Number.isFinite(t.minSize)&&e.size<t.minSize,i=Number.isFinite(t.maxSize)&&e.size>t.maxSize,l=Array.isArray(t.names)&&!t.names.includes(e.name),s=Array.isArray(t.extensions)&&!t.extensions.includes(e.name.split(".")[e.name.split(".").length-1]),o=Array.isArray(t.types)&&!t.types.includes(e.type);return r||i||l||s||o};if("object"==typeof s&&null!==s)for(var h=0,v=s.length;h<v;++h){var b=s.item(h);if(!b){this.setFieldInvalid(e,r);break}var p=f(b,c);if(p){this.setFieldInvalid(e,r);break}}break;default:if("function"!=typeof r.validator)return console.error("Validator for custom rule for [".concat(e,"] field should be a function. This field will be always invalid.")),void this.setFieldInvalid(e,r);var g=r.validator(s,this.fields);if("boolean"!=typeof g&&"function"!=typeof g&&console.error("Validator return value for [".concat(e,"] field should be boolean or function. It will be cast to boolean.")),"function"==typeof g){if(!i){var m=this;this.fields[e].asyncCheckPending=!1;var y=g();return $(y)?y.then((function(t){t||m.setFieldInvalid(e,r)})).catch((function(){m.setFieldInvalid(e,r)})):(console.error("Validator function for custom rule for [".concat(e,"] field should return a Promise. This field will be always invalid.")),void this.setFieldInvalid(e,r))}this.fields[e].asyncCheckPending=!0}g||this.setFieldInvalid(e,r)}}},{key:"validateField",value:function(t){var r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=this,s=this.fields[t];s.isValid=!0;var o=[];return e(f)(s.rules).reverse().forEach((function(e){var r=l.validateFieldRule(t,s.elem,e,i);$(r)&&o.push(r)})),s.isValid&&this.setFieldValid(t,null==(r=s.config)?void 0:r.successMessage),Promise.allSettled(o)}},{key:"revalidateField",value:function(e){var t=this;if("string"!=typeof e)throw Error("Field selector is not valid. Please specify a string selector.");return this.fields[e]?new Promise((function(r){var i=t;t.validateField(e,!0).finally((function(){i.clearFieldStyle(e),i.clearFieldLabel(e),i.renderFieldError(e),r(!!i.fields[e].isValid)}))})):(console.error("Field not found. Check the field selector."),Promise.reject())}},{key:"validateGroup",value:function(t,r){var i=this,l=[];return e(f)(r.rules).reverse().forEach((function(e){var s=i.validateGroupRule(t,r.elems,e);$(s)&&l.push(s)})),Promise.allSettled(l)}},{key:"focusInvalidField",value:function(){var e=this,t=function(t){var r=e.fields[t];if(!r.isValid)return setTimeout((function(){return r.elem.focus()}),0),"break"};for(var r in this.fields){if("break"===t(r))break}}},{key:"afterSubmitValidation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.renderErrors(e),this.globalConfig.focusInvalidField&&this.focusInvalidField()}},{key:"validate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;return new Promise((function(r){var i=t,l=[];Object.keys(t.fields).forEach((function(e){var t=i.validateField(e);$(t)&&l.push(t)})),Object.keys(t.groupFields).forEach((function(e){var t=i.groupFields[e],r=i.validateGroup(e,t);$(r)&&l.push(r)})),l.length?Promise.allSettled(l).then((function(){i.afterSubmitValidation(e),r(!0)})):(t.afterSubmitValidation(e),r(!1))}))}},{key:"revalidate",value:function(){var e=this;return new Promise((function(t){var r=e;e.validateHandler(void 0,!0).finally((function(){r.globalConfig.focusInvalidField&&r.focusInvalidField(),t(r.isValid)}))}))}},{key:"validateHandler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return this.globalConfig.lockForm&&this.lockForm(),this.validate(t).finally((function(){var t,i;r.globalConfig.lockForm&&r.unlockForm(),r.isValid?null==(t=r.onSuccessCallback)||t.call(r,e):null==(i=r.onFailCallback)||i.call(r,r.fields,r.groupFields)}))}},{key:"setForm",value:function(e){this.form=e,this.form.setAttribute("novalidate","novalidate"),this.removeListener("submit",this.form,this.formSubmitHandler),this.addListener("submit",this.form,this.formSubmitHandler)}},{key:"addListener",value:function(e,t,r){t.addEventListener(e,r),this.eventListeners.push({type:e,elem:t,func:r})}},{key:"removeListener",value:function(e,t,r){t.removeEventListener(e,r),this.eventListeners=this.eventListeners.filter((function(r){return r.type!==e||r.elem!==t}))}},{key:"addField",value:function(e,t,r){if("string"!=typeof e)throw Error("Field selector is not valid. Please specify a string selector.");var i=this.form.querySelector(e);if(!i)throw Error("Field with ".concat(e," selector not found! Please check the field selector."));if(!Array.isArray(t)||!t.length)throw Error("Rules argument for the field [".concat(e,"] should be an array and should contain at least 1 element."));return t.forEach((function(t){if(!("rule"in t||"validator"in t||"plugin"in t))throw Error("Rules argument for the field [".concat(e,"] must contain at least one rule or validator property."));if(!(t.validator||t.plugin||t.rule&&Object.values(D).includes(t.rule)))throw Error("Rule should be one of these types: ".concat(Object.values(D).join(", "),". Provided value: ").concat(t.rule))})),this.fields[e]={elem:i,rules:t,isValid:void 0,config:r},this.setListeners(i),this.isSubmitted&&this.validate(),this}},{key:"removeField",value:function(e){if("string"!=typeof e)throw Error("Field selector is not valid. Please specify a string selector.");if(!this.fields[e])return console.error("Field not found. Check the field selector."),this;var t=this.getListenerType(this.fields[e].elem.type);return this.removeListener(t,this.fields[e].elem,this.handlerChange),this.clearErrors(),delete this.fields[e],this}},{key:"removeGroup",value:function(e){var t=this;if("string"!=typeof e)throw Error("Group selector is not valid. Please specify a string selector.");return this.groupFields[e]?(this.groupFields[e].elems.forEach((function(e){var r=t.getListenerType(e.type);t.removeListener(r,e,t.handlerChange)})),this.clearErrors(),delete this.groupFields[e],this):(console.error("Group not found. Check the group selector."),this)}},{key:"addRequiredGroup",value:function(t,r,i,l){var s=this;if("string"!=typeof t)throw Error("Group selector is not valid. Please specify a string selector.");var o=this.form.querySelector(t);if(!o)throw Error("Group with ".concat(t," selector not found! Please check the group selector."));var a=o.querySelectorAll("input"),n=Array.from(a).filter((function(t){var r=function(t,r){for(var i=e(f)(r).reverse(),l=0,s=i.length;l<s;++l){var o=i[l];for(var a in t){var n=t[a];if(n.groupElem===o)return[a,n]}}return null}(s.groupFields,function(e){for(var t=e,r=[];t;)r.unshift(t),t=t.parentNode;return r}(t));return!r||r[1].elems.find((function(e){return e!==t}))}));return this.groupFields[t]={rules:[{rule:B.Required,errorMessage:r,successMessage:l}],groupElem:o,elems:n,isDirty:!1,isValid:void 0,config:i},a.forEach((function(e){s.setListeners(e)})),this}},{key:"getListenerType",value:function(e){switch(e){case"checkbox":case"select-one":case"file":case"radio":return"change";default:return"input"}}},{key:"setListeners",value:function(e){var t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange),this.addListener(t,e,this.handlerChange)}},{key:"clearFieldLabel",value:function(e){var t,r;null==(t=this.errorLabels[e])||t.remove(),null==(r=this.successLabels[e])||r.remove()}},{key:"clearFieldStyle",value:function(t){var r,i,l,s,o,a=this.fields[t],n=(null==(i=a.config)?void 0:i.errorFieldStyle)||this.globalConfig.errorFieldStyle;Object.keys(n).forEach((function(e){a.elem.style[e]=""}));var u=(null==(l=a.config)?void 0:l.successFieldStyle)||this.globalConfig.successFieldStyle||{};Object.keys(u).forEach((function(e){a.elem.style[e]=""})),(r=a.elem.classList).remove.apply(r,e(f)(Z((null==(s=a.config)?void 0:s.errorFieldCssClass)||this.globalConfig.errorFieldCssClass)).concat(e(f)(Z((null==(o=a.config)?void 0:o.successFieldCssClass)||this.globalConfig.successFieldCssClass))))}},{key:"clearErrors",value:function(){var t,r,i=this,l=function(l){var s=i,o=i.groupFields[l],a=(null==(t=o.config)?void 0:t.errorFieldStyle)||i.globalConfig.errorFieldStyle;Object.keys(a).forEach((function(t){var r=s;o.elems.forEach((function(i){var l,s;i.style[t]="",(l=i.classList).remove.apply(l,e(f)(Z((null==(s=o.config)?void 0:s.errorFieldCssClass)||r.globalConfig.errorFieldCssClass)))}))}));var n=(null==(r=o.config)?void 0:r.successFieldStyle)||i.globalConfig.successFieldStyle||{};Object.keys(n).forEach((function(t){var r=s;o.elems.forEach((function(i){var l,s;i.style[t]="",(l=i.classList).remove.apply(l,e(f)(Z((null==(s=o.config)?void 0:s.successFieldCssClass)||r.globalConfig.successFieldCssClass)))}))}))},s=this;for(var o in Object.keys(this.errorLabels).forEach((function(e){return s.errorLabels[e].remove()})),Object.keys(this.successLabels).forEach((function(e){return s.successLabels[e].remove()})),this.fields)this.clearFieldStyle(o);for(var a in this.groupFields)l(a);this.tooltips=[]}},{key:"isTooltip",value:function(){return!!this.globalConfig.tooltip}},{key:"lockForm",value:function(){for(var e=this.form.querySelectorAll("input, textarea, button, select"),t=0,r=e.length;t<r;++t)e[t].setAttribute("data-just-validate-fallback-disabled",e[t].disabled?"true":"false"),e[t].setAttribute("disabled","disabled"),e[t].style.pointerEvents="none",e[t].style.webkitFilter="grayscale(100%)",e[t].style.filter="grayscale(100%)"}},{key:"unlockForm",value:function(){for(var e=this.form.querySelectorAll("input, textarea, button, select"),t=0,r=e.length;t<r;++t)"true"!==e[t].getAttribute("data-just-validate-fallback-disabled")&&e[t].removeAttribute("disabled"),e[t].style.pointerEvents="",e[t].style.webkitFilter="",e[t].style.filter=""}},{key:"renderTooltip",value:function(e,t,r){var i,l=this,s=e.getBoundingClientRect(),o=s.top,a=s.left,n=s.width,u=s.height,d=t.getBoundingClientRect(),c=r||(null==(i=this.globalConfig.tooltip)?void 0:i.position);switch(c){case"left":t.style.top="".concat(o+u/2-d.height/2,"px"),t.style.left="".concat(a-d.width-5,"px");break;case"top":t.style.top="".concat(o-d.height-5,"px"),t.style.left="".concat(a+n/2-d.width/2,"px");break;case"right":t.style.top="".concat(o+u/2-d.height/2,"px"),t.style.left="".concat(a+n+5,"px");break;case"bottom":t.style.top="".concat(o+u+5,"px"),t.style.left="".concat(a+n/2-d.width/2,"px")}t.dataset.direction=c;return{refresh:function(){l.renderTooltip(e,t,r)}}}},{key:"createErrorLabelElem",value:function(t,r,i){var l,s=document.createElement("div");s.innerHTML=r;var o=this.isTooltip()?null==i?void 0:i.errorLabelStyle:(null==i?void 0:i.errorLabelStyle)||this.globalConfig.errorLabelStyle;return Object.assign(s.style,o),(l=s.classList).add.apply(l,e(f)(Z((null==i?void 0:i.errorLabelCssClass)||this.globalConfig.errorLabelCssClass)).concat(["just-validate-error-label"])),this.isTooltip()&&(s.dataset.tooltip="true"),this.globalConfig.testingMode&&(s.dataset.testId="error-label-".concat(t)),this.errorLabels[t]=s,s}},{key:"createSuccessLabelElem",value:function(t,r,i){var l;if(void 0===r)return null;var s=document.createElement("div");s.innerHTML=r;var o=(null==i?void 0:i.successLabelStyle)||this.globalConfig.successLabelStyle;return Object.assign(s.style,o),(l=s.classList).add.apply(l,e(f)(Z((null==i?void 0:i.successLabelCssClass)||this.globalConfig.successLabelCssClass)).concat(["just-validate-success-label"])),this.globalConfig.testingMode&&(s.dataset.testId="success-label-".concat(t)),this.successLabels[t]=s,s}},{key:"renderErrorsContainer",value:function(e,t){var r=t||this.globalConfig.errorsContainer;if("string"==typeof r){var i=this.form.querySelector(r);if(i)return i.appendChild(e),!0;console.error("Error container with ".concat(r," selector not found. Errors will be rendered as usual"))}return r instanceof Element?(r.appendChild(e),!0):(void 0!==r&&console.error("Error container not found. It should be a string or existing Element. Errors will be rendered as usual"),!1)}},{key:"renderGroupLabel",value:function(e,t,r,i){if(!i&&this.renderErrorsContainer(t,r))return;e.appendChild(t)}},{key:"renderFieldLabel",value:function(e,t,r,i){var l,s,o,a,n,u,d;if(!i&&this.renderErrorsContainer(t,r))return;if("checkbox"===e.type||"radio"===e.type){var c=document.querySelector('label[for="'.concat(e.getAttribute("id"),'"]'));"label"===(null==(s=null==(l=e.parentElement)?void 0:l.tagName)?void 0:s.toLowerCase())?null==(a=null==(o=e.parentElement)?void 0:o.parentElement)||a.appendChild(t):c?null==(n=c.parentElement)||n.appendChild(t):null==(u=e.parentElement)||u.appendChild(t)}else null==(d=e.parentElement)||d.appendChild(t)}},{key:"showLabels",value:function(e,t){var r=this;Object.keys(e).forEach((function(i,l){var s=e[i],o=r.fields[i];o.isValid=!t,r.clearFieldStyle(i),r.clearFieldLabel(i),r.renderFieldError(i,s),0===l&&r.globalConfig.focusInvalidField&&setTimeout((function(){return o.elem.focus()}),0)}))}},{key:"showErrors",value:function(e){if("object"!=typeof e)throw Error("[showErrors]: Errors should be an object with key: value format");this.showLabels(e,!0)}},{key:"showSuccessLabels",value:function(e){if("object"!=typeof e)throw Error("[showSuccessLabels]: Labels should be an object with key: value format");this.showLabels(e,!1)}},{key:"renderFieldError",value:function(t,r){var i,l,s,o,a,n,u,d=this.fields[t];if(d.isValid){if(!d.asyncCheckPending){var c,h=this.createSuccessLabelElem(t,void 0!==r?r:d.successMessage,d.config);h&&this.renderFieldLabel(d.elem,h,null==(l=d.config)?void 0:l.errorsContainer,!0),(c=d.elem.classList).add.apply(c,e(f)(Z((null==(s=d.config)?void 0:s.successFieldCssClass)||this.globalConfig.successFieldCssClass)))}}else{this.isValid=!1,(i=d.elem.classList).add.apply(i,e(f)(Z((null==(o=d.config)?void 0:o.errorFieldCssClass)||this.globalConfig.errorFieldCssClass)));var v=this.createErrorLabelElem(t,void 0!==r?r:d.errorMessage,d.config);this.renderFieldLabel(d.elem,v,null==(a=d.config)?void 0:a.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(d.elem,v,null==(u=null==(n=d.config)?void 0:n.tooltip)?void 0:u.position))}}},{key:"renderErrors",value:function(){var t,r,i,l,s=this,o=function(o){var a=s,n=s.groupFields[o];if(n.isValid){var u=s;n.elems.forEach((function(t){var r,i,l;Object.assign(t.style,(null==(i=n.config)?void 0:i.successFieldStyle)||u.globalConfig.successFieldStyle),(r=t.classList).add.apply(r,e(f)(Z((null==(l=n.config)?void 0:l.successFieldCssClass)||u.globalConfig.successFieldCssClass)))}));var d=s.createSuccessLabelElem(o,n.successMessage,n.config);return d&&s.renderGroupLabel(n.groupElem,d,null==(t=n.config)?void 0:t.errorsContainer,!0),"continue"}s.isValid=!1,n.elems.forEach((function(t){var r,i,l;Object.assign(t.style,(null==(i=n.config)?void 0:i.errorFieldStyle)||a.globalConfig.errorFieldStyle),(r=t.classList).add.apply(r,e(f)(Z((null==(l=n.config)?void 0:l.errorFieldCssClass)||a.globalConfig.errorFieldCssClass)))}));var c=s.createErrorLabelElem(o,n.errorMessage,n.config);s.renderGroupLabel(n.groupElem,c,null==(r=n.config)?void 0:r.errorsContainer),s.isTooltip()&&s.tooltips.push(s.renderTooltip(n.groupElem,c,null==(l=null==(i=n.config)?void 0:i.tooltip)?void 0:l.position))},a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isSubmitted||a){for(var n in this.clearErrors(),this.isValid=!0,this.groupFields)o(n);for(var u in this.fields)this.renderFieldError(u)}}},{key:"destroy",value:function(){var e=this;this.eventListeners.forEach((function(t){e.removeListener(t.type,t.elem,t.func)})),Object.keys(this.customStyleTags).forEach((function(t){e.customStyleTags[t].remove()})),this.clearErrors(),this.globalConfig.lockForm&&this.unlockForm()}},{key:"refresh",value:function(){if(this.destroy(),this.form){var t=this;this.initialize(this.form,this.globalConfig),Object.keys(this.fields).forEach((function(r){t.addField(r,e(f)(t.fields[r].rules),t.fields[r].config)}))}else console.error("Cannot initialize the library! Form is not defined")}},{key:"setCurrentLocale",value:function(e){"string"==typeof e||void 0===e?(this.currentLocale=e,this.isSubmitted&&this.validate()):console.error("Current locale should be a string")}},{key:"onSuccess",value:function(e){return this.onSuccessCallback=e,this}},{key:"onFail",value:function(e){return this.onFailCallback=e,this}}]),t}(),W=document.querySelector("body"),J=document.querySelector("[data-backdrop]"),Y=document.querySelector("[data-modal]"),K=document.querySelector(".success");K.querySelector("[data-success-close]").addEventListener("click",(function(){K.classList.toggle("success--is-hidden")})),new U(".validateFooter",{errorFieldCssClass:"warning-input",errorLabelCssClass:"warning",errorLabelStyle:{color:"#ff705d",left:"0",opacity:"1"}}).addField(".footerInput",[{rule:"required",errorMessage:"This field is required!"},{rule:"customRegexp",value:/[^@\s]+@[^@\s]+\.[^@\s]+/,errorMessage:"Not a valid email address (example@email.com)"}]).onSuccess((function(e){console.log("Validation passes and form submitted",e)})),new U(".validateSub",{errorFieldCssClass:"warning-input",errorLabelCssClass:"warning",errorLabelStyle:{color:"#ff705d",left:"0",opacity:"1"}}).addField(".subsInput",[{rule:"required",errorMessage:"This field is required!"},{rule:"customRegexp",value:/[^@\s]+@[^@\s]+\.[^@\s]+/,errorMessage:"Not a valid email address (example@email.com)"}]).onSuccess((function(e){console.log("Validation passes and form submitted",e)})),new U(".validateModal",{errorFieldCssClass:"warning-input",errorLabelCssClass:"warning",errorLabelStyle:{color:"#ff705d",opacity:"1",bottom:"-15px",alignItems:"center"}}).addField(".modalName",[{rule:"required",errorMessage:"This field is required!"},{rule:"customRegexp",value:/^[a-zA-Z]+\s[a-zA-Z]+$/,errorMessage:"Please enter your first and last name (Brad Pitt)"},{rule:"maxLength",value:50}]).addField(".modalTel",[{rule:"required",errorMessage:"This field is required!"},{rule:"customRegexp",value:/^\+38\(\d{3}\)-\d{3}-\d{2}-\d{2}$/,errorMessage:"Not a valid phone number (+38(0XX)-XXX-XX-XX)"}]).addField(".modalMail",[{rule:"required",errorMessage:"This field is required!"},{rule:"customRegexp",value:/[^@\s]+@[^@\s]+\.[^@\s]+/,errorMessage:"Not a valid email address (example@email.com)"}]).addField(".modalAddress",[{rule:"required",errorMessage:"This field is required!"},{rule:"minLength",value:5,errorMessage:" Street address must be at least 5 characters (1 St.)"}]).onSuccess((function(e){J.classList.toggle("backdrop--is-hidden"),W.classList.toggle("no-scroll"),Y.classList.toggle("modal--is-hidden"),setTimeout((function(){K.classList.remove("success--is-hidden")}),400),setTimeout((function(){K.classList.add("success--is-hidden")}),5e3)}))}();
//# sourceMappingURL=index.24674c27.js.map
